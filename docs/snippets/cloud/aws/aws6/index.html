<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hola, welcome to my Tech Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hola, welcome to my Tech Blog Atom Feed"><title data-react-helmet="true">EC2 | Hola, welcome to my Tech Blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://dipjyotimetia.github.io/docs/snippets/cloud/aws/aws6"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="EC2 | Hola, welcome to my Tech Blog"><meta data-react-helmet="true" name="description" content="EC2 101"><meta data-react-helmet="true" property="og:description" content="EC2 101"><link data-react-helmet="true" rel="icon" href="/img/pic.jpeg"><link data-react-helmet="true" rel="canonical" href="https://dipjyotimetia.github.io/docs/snippets/cloud/aws/aws6"><link data-react-helmet="true" rel="alternate" href="https://dipjyotimetia.github.io/docs/snippets/cloud/aws/aws6" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://dipjyotimetia.github.io/docs/snippets/cloud/aws/aws6" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c394440b.css">
<link rel="preload" href="/assets/js/runtime~main.8c1ffa4b.js" as="script">
<link rel="preload" href="/assets/js/main.26a4ea51.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/pic.jpeg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/pic.jpeg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Dipjyoti`s Blog</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Projects</a><a class="navbar__item navbar__link" href="/docs/snippets/overview">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://www.thoughtworks.com/radar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Technology Radar<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://dev.to/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Dev To<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://news.ycombinator.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Hackers News<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/snippets/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/snippets/generic/apitestsites">Generic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/snippets/programming/go/godoc1">Programming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/snippets/cloud/aws/aws1">Cloud</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/docs/snippets/cloud/aws/aws1">AWS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws1">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws2">Acronyms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws3">Certifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws4">IAM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws5">S3 Storage and CDN</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/snippets/cloud/aws/aws6">EC2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws7">Databases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws8">Route53</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws9">VPC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws11">Application Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws12">Serverless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws13">AWS Well-Architected Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws14">Quick Exam Reference Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/snippets/cloud/google/google1">GOOGLE</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/snippets/cloud/ci/docker">CI</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/snippets/security/sec1">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/snippets/performance/taurus">Performance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/snippets/ide/vscode">IDE</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/snippets/toolos/ubuntu">OS &amp; Tools</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/snippets/generic">Reading Lists</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>EC2 â€“ The Backbone of AWS</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="ec2-101">EC2 101<a class="hash-link" href="#ec2-101" title="Direct link to heading">â€‹</a></h2><ul><li><p><strong>Elastic Compute Cloud</strong></p></li><li><p>Provides <strong>resizable compute capacity in cloud (scale up and down)</strong></p></li><li><p>Helps developers failure resilient systems and isolate them</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="ec2-pricing">EC2 Pricing<a class="hash-link" href="#ec2-pricing" title="Direct link to heading">â€‹</a></h3><ul><li><p><strong>On demand</strong> Pay per hour or per second of usage.</p><ul><li>Applications with short term, spiky usage patterns or unpredictable workloads that cannot be interrupted.</li><li>New apps on AWS being developed or tested on Amazon EC2 for the first time</li></ul></li><li><p><strong>Reserved pricing</strong></p><ul><li><p>Reserve capacity over significant period of time. Significant discount (up to 75%) compared to On-Demand instance pricing</p></li><li><p>Applications with steady or predictable usage over a period of time.</p></li><li><p>Reserved capacity required.</p></li><li><p>Further discount if upfront payment</p><ul><li>Standard reserved instances(Cant covert t2 to R4)</li><li>Convertible reserved instances (Can convert from t2 to t3 or t4)</li><li>Scheduled reserved instances(In specific time instances)</li></ul></li></ul></li><li><p><strong>Spot pricing</strong></p><ul><li><p>Bid your price for compute. When bid price is higher than Spot price, then you can provision it. When it goes lower, instance is terminated. discount for up to 90% off the On-Demand price.</p></li><li><p>Useful for applications who have flexible start / stop times</p></li><li><p>urgent computing needs for large amounts of additional capacity</p></li><li><p>Applications that are feasible only at very low compute prices. E.g. pharma simulations</p></li><li><p>Applications with urgent computing capacity</p></li><li><p>[Exam Tip]<!-- --> <strong>If AWS terminates instance, you are not charged for partial hour. If you terminate, you will be charged for the hour.</strong></p></li></ul></li><li><p><strong>Dedicated Hosts</strong>/ physical EC2 machines</p><ul><li><p>physical EC2 server dedicated for your use. Dedicated Hosts can help you reduce costs by allowing you to use your existing server-bound software licenses, including Windows Server, SQL Server, and SUSE Linux Enterprise Server (subject to your license terms), and can also help you meet compliance requirements.</p></li><li><p>Can be purchased On-Demand (hourly).</p></li><li><p>Can be purchased as a Reservation for up to 70% off the On-Demand price.</p></li><li><p>Massive discount for reserved instances over a long period of time â€“ upto 70% for 3 years.</p></li><li><p>Useful for regulatory requirements</p></li><li><p>Certain licensing agreements prevent usage on virtual machine / multi-tenancy deployments.</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="ec2-instance-types">EC2 Instance Types<a class="hash-link" href="#ec2-instance-types" title="Direct link to heading">â€‹</a></h3><table><thead><tr><th>Sr. No</th><th align="center">Family</th><th align="right">Specialty</th><th align="right">Use Case</th><th align="right">Type</th></tr></thead><tbody><tr><td>1</td><td align="center">D2</td><td align="right">Dense Storage</td><td align="right">File Servers / DWH / Hadoop</td><td align="right">Storage Optimized</td></tr><tr><td>2</td><td align="center">R4. R3</td><td align="right">Memory Optimized</td><td align="right">Memory Intensive / DBs</td><td align="right">Memory Optimized</td></tr><tr><td>3</td><td align="center">M4. M3</td><td align="right">General Purpose</td><td align="right">Application Servers</td><td align="right">General Purpose</td></tr><tr><td>4</td><td align="center">C4, C3</td><td align="right">Compute Optimized</td><td align="right">CPU Intensive Apps, DBs</td><td align="right">Compute O</td></tr><tr><td>5</td><td align="center">G2</td><td align="right">Graphics Intensive</td><td align="right">Video Encoding / 3D Application Streaming</td><td align="right"></td></tr><tr><td>6</td><td align="center">I2</td><td align="right">High speed storage (IOPS)</td><td align="right">NoSQL DBs, DWH</td><td align="right"></td></tr><tr><td>7</td><td align="center">F1</td><td align="right">Field Programmable Gate Array</td><td align="right">Hardware acceleration of Code</td><td align="right"></td></tr><tr><td>8</td><td align="center">T2</td><td align="right">Lowest Cost, General Purpose</td><td align="right">Web Servers/ Small DBs</td><td align="right">General Purpose</td></tr><tr><td>9</td><td align="center">P2</td><td align="right">Graphics / General Purpose GPU<!-- -->[Parallel Processing]</td><td align="right">Machine Learning / Bit Coin Mining.</td><td align="right"></td></tr><tr><td>10</td><td align="center">X1</td><td align="right">Memory Optimized</td><td align="right">SAP HANA / Apache Spark</td><td align="right">-</td></tr></tbody></table><p>Acronym â€“ *<em>DIRT MCG FPX</em>  -</p><p><em>D â€“ Density , I  - IOPS , R â€“ RAM , T â€“ cheap T2, M â€“ Main Choice ( default) â€“ Apps, C â€“ Compute,  G â€“ Graphics, F â€“ FPGA , P â€“ Graphics â€“ Pics â€“ Parallel Processing , X â€“ Extreme Memory</em>  - *</p><p><strong>Use M3 for general purpose instances â€“ balanced compute, memory and network resources</strong></p><p>[Exam Tip]<!-- --> You will be asked to provide which instance type to use for a given scenario. Usually 3 options are fictitious.</p><p><strong>TM-CR-X-P-HID</strong></p><p><img src="https://user-images.githubusercontent.com/8856857/62579559-6dc39080-b8e7-11e9-98be-3b15e4ed1626.jpg" alt="Instance Types"></p><p><strong>EC2 Key Pairs are region specific</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="ebs">EBS<a class="hash-link" href="#ebs" title="Direct link to heading">â€‹</a></h2><ul><li><p><strong>Block based storage</strong></p></li><li><p><strong>You can install OS, Database on it, unlike S3</strong></p></li><li><p>Placed in specific AZ. Automatically replicated within the AZ to protect from failure.</p></li><li><p>[Exam Tips]<!-- -->*  - <strong>EBS Volume Types</strong></p><p><strong>SSD Drives</strong> (Solid state Drives)</p></li><li><p><strong>(root volume) General Purpose SSD</strong> â€“ up to 16,000 IOPS. (Input/Output Operations Per Second) 3 IOPS per GB. Balances price and performance. You can    burst upto 3000 IOPS for 1GB</p></li><li><p><strong>(root volume) Provisioned IOPS SSD</strong> â€“ when you need more than 16,000 IOPS. Large RDBMS DBs and NoSQL DBs. Up to 64000 IOPS now</p><p><strong>Magnetic Drives</strong></p></li><li><p><strong>HDD, Throughput Optimizedâ€“ ST1</strong> â€“ Required for data written in sequence. Big Data, DWH, Log processing. Cannot be used as boot volumes, 500 IOPS</p></li><li><p><strong>HDD, Coldâ€“ SC1</strong> â€“ Data that isnâ€™t frequently accessed. E.g. File Server. Cannot be used as boot volume, 250 IOPS</p></li><li><p><strong>(root volume) HDD, Magnetic (Standard)</strong> â€“ <strong>Cheapest bootable EBS volume type</strong>. Used for apps where data is less frequently accessed and low cost is    important, 40-200 IOPS.</p></li></ul><p><img src="https://user-images.githubusercontent.com/8856857/62581104-803fc900-b8eb-11e9-9140-30ee4e6dc667.png" alt="EBS Volume Types"></p><ul><li><p><strong>You cannot mount 1 EBS volume to multiple EC2 Instances. Use EFS instead.</strong></p></li><li><p><strong>EBS Root Volumes can be encrypted on custom AMIs only</strong>. Not on the default available AMIs. To encrypt root volumes, create a new AMI and encrypt root volume. <strong>You can also encrypt using 3rd party software like Bit Locker</strong>. Additional volumes attached to EC2 instance can be encrypted.</p></li><li><p>EC2 â€“ 1 subnet equals 1 Availability Zone.</p></li><li><p>Default VPC &amp; Security group is created in when you create your account.</p></li><li><p>Default CloudWatch monitoring â€“ every 5 mins. Can enable advanced monitoring to check at interval of each minute.</p></li><li><p>Volume â€“ Virtual Hard Disk</p></li><li><p>Tag everything on AWS</p></li><li><p>Default Linux EC2 username is ec2-user</p></li><li><p>Default Windows EC2 username is Administrator</p></li><li><p>Termination protection is turned off by default. You need to turn it on.</p></li><li><p>When instance is terminated, root volume is deleted. You can turn if off.</p></li><li><p><strong>System Status Check</strong> â€“ Overall health of hosting infrastructure. If they arise, Terminate instance and recreate</p></li><li><p><strong>Instance Status Check</strong> â€“ Health of instance. If they arise, reboot the instance.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="ec2-security-groups">EC2 Security Groups<a class="hash-link" href="#ec2-security-groups" title="Direct link to heading">â€‹</a></h2><ul><li><p>A <strong>security group is a virtual firewall.</strong></p></li><li><p>First line of defense. <strong>Network ACLs are second line.</strong></p></li><li><p>1 instance can have multiple security groups. As each security group only &quot;allows&quot; inbound traffic, there will never be a conflict on security group rules.</p></li><li><p>Security group changes are applied immediately.</p></li><li><p><strong>Security groups are &quot;STATEFUL&quot;.</strong> Rules added as inbound rules â€“ automatic outbound rules are added. Response back on the same channel. <strong>NACLs (network access control list) are STATELESS.</strong></p></li><li><p><strong>All inbound traffic is blocked by default.</strong> You have to allow specific inbound rules for protocols</p></li><li><p><strong>All outbound traffic is allowed by default.</strong></p></li><li><p><strong>Only allow rules, no deny rules exist. Use NACLs to deny specific IPs</strong></p></li><li><p>Any number of EC2 instances in a security group.</p></li><li><p>EC2 instances in the default security group can communicate with each other.</p></li><li><p>Multiple security groups can be attached to an instance.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="volumes-and-snapshots">Volumes and Snapshots<a class="hash-link" href="#volumes-and-snapshots" title="Direct link to heading">â€‹</a></h2><ul><li><p><strong>Volumes are virtual hard disks.</strong></p></li><li><p>You can attach volume to EC2 instance belonging to same AZ</p></li><li><p>To Detach a volume from EC2 instance, you have to umount it first</p></li><li><p><strong>Snapshots are point in time copies of volumes â€“ stored in S3.</strong> Taking first snapshot takes a while.</p></li><li><p>Subsequent snapshots will only store the delta in S3. Only changed blocks are stored in S3.</p></li><li><p>You can create volumes from Snapshots. During this you can also change Volume Storage Type</p></li><li><p>Volume is just block data. You need to format it create specific file system e.g. ext4</p></li><li><p>Root Volume is one where OS is installed / booted. It is not encrypted by default on AWS AMIs</p></li><li><p>AMI can be created from the both volumes and snapshot.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="ebs-volumes">EBS Volumes<a class="hash-link" href="#ebs-volumes" title="Direct link to heading">â€‹</a></h3><ul><li><p><strong>EBS volume can be changed on the fly(except for magnetic standard)</strong></p></li><li><p>Best practice is to stop the EC2 instance and then change the volume</p></li><li><p>You can change volume types by taking a snapshot and then using the snapshot to create a new volume</p></li><li><p><strong>If you change a volume on the fly you must wait for 6 hours before you make another change</strong></p></li><li><p>You can scale EBS volume up only</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="raid-volumes--snapshots">RAID, Volumes &amp; Snapshots.<a class="hash-link" href="#raid-volumes--snapshots" title="Direct link to heading">â€‹</a></h3><p>(Redundant Array of Inexpensive Disks or Drives, or Redundant Array of Independent Disks)</p><ul><li><p>RAID 0 â€“ Striped, No Redundancy , Good Performance â€“ No Backup/Failover</p></li><li><p>RAID 1 â€“ Mirrored, Redundancy</p></li><li><p>RAID 5 â€“ Good for reads, bad for writes. <strong>AWS doesnâ€™t recommend using RAID 5 on EBS</strong></p></li><li><p>RAID 10 â€“ Raid 0 + Raid 1 - Good Redundancy , Good Performance - Done for very high I/O</p></li><li><p><strong>Use RAID Arrays when a single volume IOPs are not sufficient for your need. E.g. Database. Then you create RAID Array to meet IOPs requirements.</strong></p><p><strong>- To take snapshot of RAID Array â€“</strong></p><ol><li><p>Stop the application from writing to cache and  flush all cache to Disk</p></li><li><p>Freeze the file system</p></li><li><p>Umount the RAID Array</p></li><li><p>Shutdown the EC2 instance</p></li></ol></li><li><p>Snapshots of encrypted volumes are encrypted automatically.</p></li><li><p>You can copy snapshot to another region while encrypting it.</p></li><li><p>Create Image from snapshot.</p></li><li><p>The EC2 instance thus created will have root volume encrypted.</p></li><li><p>You canâ€™t share encrypted snapshots as the encryption key is tied to your account.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="ebs-backed-vs-instance-store">EBS backed v/s Instance store<a class="hash-link" href="#ebs-backed-vs-instance-store" title="Direct link to heading">â€‹</a></h2><ul><li><p><strong>An &quot;EBS-backed&quot; instance</strong> is an EC2 instance which uses an EBS volume as it&#x27;s root device. EBS volumes are redundant, &quot;virtual&quot; drives, which are not tied to any particular hardware, however they are restricted to a particular EC2 availability zone. ... You can think of EBS volumes as a kind of Network Attached Storage.</p></li><li><p><strong>The instance store</strong> is ideal for temporary storage, because the data stored in instance store volumes is not persistent through instance stops, terminations, or hardware failures.</p></li></ul><p><img src="https://user-images.githubusercontent.com/8856857/62652102-e6852400-b99d-11e9-93e3-b14ef207358f.jpg" alt="EBS backed vs Instance store"></p><ul><li><p>You can reboot or terminate instance store backed EC2 VMs</p></li><li><p>You can start, stop, reboot or terminate EBS backed EC2 VMs</p></li><li><p><strong>EC2 instance on instance store is lost if host hypervisor fails. Not so with EBS backed instances.</strong></p></li><li><p>EBS volumes can be attached / detached to EC2 instances. One at a time</p></li><li><p>EBS backed AMI is from EBS snapshot</p></li><li><p>Instance store back volume is from template in S3. Hence slower to provision</p></li><li><p>You will not lose data if you reboot for both.</p></li><li><p>With EBS, you can ask AWS not to delete the volume upon instance termination.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="ec2-status-checks">EC2 Status Checks<a class="hash-link" href="#ec2-status-checks" title="Direct link to heading">â€‹</a></h2><p>There are two types of status checks: system status checks and instance status checks.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="system-status-checks">System Status Checks<a class="hash-link" href="#system-status-checks" title="Direct link to heading">â€‹</a></h3><p><strong>Monitor the AWS systems required to use your instance to ensure they are working properly. These checks detect problems with your instance that require AWS involvement to repair. When a system status check fails, you can choose to wait for AWS to fix the issue, or you can resolve it yourself (for example, by stopping and starting an instance, or by terminating and replacing an instance).</strong></p><p>The following are examples of problems that can cause system status checks to fail:</p><ul><li><p>Loss of network connectivity</p></li><li><p>Loss of system power</p></li><li><p>Software issues on the physical host</p></li><li><p>Hardware issues on the physical host that impact network reachability</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="instance-status-checks">Instance Status Checks<a class="hash-link" href="#instance-status-checks" title="Direct link to heading">â€‹</a></h2><p><strong>Monitor the software and network configuration of your individual instance. These checks detect problems that require your involvement to repair. When an instance status check fails, typically you will need to address the problem yourself (for example, by rebooting the instance or by making instance configuration changes).</strong></p><p>The following are examples of problems that can cause instance status checks to fail:</p><ul><li><p>Failed system status checks</p></li><li><p>Incorrect networking or startup configuration</p></li><li><p>Exhausted memory</p></li><li><p>Corrupted file system</p></li><li><p>Incompatible kernel</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="load-balancers">Load Balancers<a class="hash-link" href="#load-balancers" title="Direct link to heading">â€‹</a></h2><ul><li><p>The <strong>Classic Load Balancer</strong> that routes traffic based on either application or network level information, and the <strong>Application Load Balancer</strong> that routes traffic based on advanced application level information that includes the content of the request.</p></li><li><p>The <strong>Classic Load Balancer is ideal for simple load balancing of traffic across multiple EC2 instances, while the Application Load Balancer is ideal for applications needing advanced routing capabilities, microservices, and container-based architectures</strong></p></li><li><p>Instances monitored by load balancers are reported as InService/OutOfService</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="cloudwatch">CloudWatch<a class="hash-link" href="#cloudwatch" title="Direct link to heading">â€‹</a></h2><ul><li><p><strong>Default Metrics â€“ Network, Disk , CPU and Status check ( Instance and System)</strong></p></li><li><p><strong>Memory â€“ RAM is a custom metric</strong></p></li><li><p>You can create custom dashboards all CloudWatch metrics.</p></li><li><p><strong>CloudWatch alarms</strong> â€“ set notifications when particular thresholds are hit.</p></li><li><p><strong>CloudWatch events</strong> help you respond to state changes. E.g. run Lambda function in response to.</p></li><li><p><strong>CloudWatch logs</strong> helps you monitor EC2 instance/application/system logs. Logs send data to CloudWatch</p></li><li><p>Standard monitoring 5 mins. Detailed monitoring 1 minute - out of free tier.</p></li><li><p><strong>CloudWatch is for logging. CloudTrail is for auditing your calls.</strong></p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="aws-cli-usage">AWS CLI Usage<a class="hash-link" href="#aws-cli-usage" title="Direct link to heading">â€‹</a></h2><ul><li><p>Users can login with Access Key ID and Secret Access Key. If anything is compromised, you can regenerate the secret access key.</p></li><li><p>Also you can delete the user and recreate.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="iam-roles-for-ec2">IAM Roles for EC2<a class="hash-link" href="#iam-roles-for-ec2" title="Direct link to heading">â€‹</a></h2><ul><li><p>Avoid using user credentials on servers</p></li><li><p>IAM roles can be assigned/replaced to existing EC2 instances using AWS CLI. Not through the console.</p></li><li><p>A trick is to assign policies to the existing role. This will avoid the need to create new instances.</p></li><li><p><strong>Role assigned to instance is stuck to the lifetime of the instance â€“ until you delete the role. Easier to modify existing role by adding / removing policies.</strong></p></li><li><p>Roles are universal. Applicable to all regions.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="bootstrap-scripts">Bootstrap scripts.<a class="hash-link" href="#bootstrap-scripts" title="Direct link to heading">â€‹</a></h2><ul><li>Scripts can be passed on to the EC2 instance at first boot time as part of user-data.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="ec2-instance-meta-data">EC2 Instance Meta-Data<a class="hash-link" href="#ec2-instance-meta-data" title="Direct link to heading">â€‹</a></h2><ul><li><p>curl <a href="http://169.254.169.254/latest/meta-data/" target="_blank" rel="noopener noreferrer">http://169.254.169.254/latest/meta-data/</a></p></li><li><p>Instance information is available in Meta-Data. Not in User-Data</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="auto-scaling-101">Auto Scaling 101<a class="hash-link" href="#auto-scaling-101" title="Direct link to heading">â€‹</a></h2><ul><li><p><strong>Before you can create Auto scaling group you need to create a launch configuration</strong></p></li><li><p><strong>Launch Configuration â€“ Select AMI, Instance Type , Bootstrap script</strong></p></li><li><p>No actual instances are created just with launch configuration</p></li><li><p><strong>Auto scaling group</strong> â€“ Set minimum size, spread it over subnets (AZs)- select all available AZs</p></li><li><p><strong>Run health checks from ELB</strong></p></li><li><p><strong>Configure Auto scaling policy â€“ Based on Alarm take action â€“ trigger a new instance creation when CPU Utilization is greater than 90% for 5 minutes. You can also delete instance based on alarms</strong></p></li><li><p>When Auto scaling group is launched it creates the instances based on definition.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="ec2-placement-groups">EC2 Placement groups<a class="hash-link" href="#ec2-placement-groups" title="Direct link to heading">â€‹</a></h2><ul><li><p>Logical grouping of instances within a single AZ</p></li><li><p>Instances can participate in low latency, 10 GBPs network.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="efselastic-file-system">EFS(Elastic File System)<a class="hash-link" href="#efselastic-file-system" title="Direct link to heading">â€‹</a></h2><ul><li><p><strong>You pay only for the storage you use and can scale upto petabytes</strong></p></li><li><p>Unlike EBS, a EFS can be accessed by multiple EC2s - Acts like a central repository</p></li><li><p>Supports the NFSv4 protocol</p></li><li><p>Can support thousands of concurrent NFS connections</p></li><li><p>Data is stored across multiple AZs withing a region</p></li><li><p>Block based storage and not object based storage</p></li><li><p>Has read after write consistency</p><p><img src="https://user-images.githubusercontent.com/8856857/62652854-a6bf3c00-b99f-11e9-8214-67ddfa646545.png" alt="S3-EFS-EBS"></p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="placement-groups">Placement Groups<a class="hash-link" href="#placement-groups" title="Direct link to heading">â€‹</a></h2><ul><li>When you launch a new EC2 instance, the EC2 service attempts to place the instance in such a way that all of your instances are spread out across underlying hardware to minimize correlated failures.</li><li><strong>You can use placement groups to influence the placement of a group of interdependent instances to meet the needs of your workload.</strong></li><li>3 placement strategies<ul><li><strong>Cluster</strong> â€“ packs instances close together inside an Availability Zone. This strategy enables workloads to achieve the low-latency network performance necessary for tightly-coupled node-to-node communication that is typical of HPC applications.</li><li><strong>Partition</strong> â€“ spreads your instances across logical partitions such that groups of instances in one partition do not share the underlying hardware with groups of instances in different partitions. This strategy is typically used by large distributed and replicated workloads, such as Hadoop, Cassandra, and Kafka.</li><li><strong>Spread</strong>  strictly places a small group of instances across distinct underlying hardware to reduce correlated failures.</li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/dipjyotimetia/Docs/docs/snippets/cloud/aws/04_EC2.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/snippets/cloud/aws/aws5"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">S3 Storage and CDN</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/snippets/cloud/aws/aws7"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Databases</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ec2-101" class="table-of-contents__link toc-highlight">EC2 101</a><ul><li><a href="#ec2-pricing" class="table-of-contents__link toc-highlight">EC2 Pricing</a></li><li><a href="#ec2-instance-types" class="table-of-contents__link toc-highlight">EC2 Instance Types</a></li></ul></li><li><a href="#ebs" class="table-of-contents__link toc-highlight">EBS</a></li><li><a href="#ec2-security-groups" class="table-of-contents__link toc-highlight">EC2 Security Groups</a></li><li><a href="#volumes-and-snapshots" class="table-of-contents__link toc-highlight">Volumes and Snapshots</a><ul><li><a href="#ebs-volumes" class="table-of-contents__link toc-highlight">EBS Volumes</a></li><li><a href="#raid-volumes--snapshots" class="table-of-contents__link toc-highlight">RAID, Volumes &amp; Snapshots.</a></li></ul></li><li><a href="#ebs-backed-vs-instance-store" class="table-of-contents__link toc-highlight">EBS backed v/s Instance store</a></li><li><a href="#ec2-status-checks" class="table-of-contents__link toc-highlight">EC2 Status Checks</a><ul><li><a href="#system-status-checks" class="table-of-contents__link toc-highlight">System Status Checks</a></li></ul></li><li><a href="#instance-status-checks" class="table-of-contents__link toc-highlight">Instance Status Checks</a></li><li><a href="#load-balancers" class="table-of-contents__link toc-highlight">Load Balancers</a></li><li><a href="#cloudwatch" class="table-of-contents__link toc-highlight">CloudWatch</a></li><li><a href="#aws-cli-usage" class="table-of-contents__link toc-highlight">AWS CLI Usage</a></li><li><a href="#iam-roles-for-ec2" class="table-of-contents__link toc-highlight">IAM Roles for EC2</a></li><li><a href="#bootstrap-scripts" class="table-of-contents__link toc-highlight">Bootstrap scripts.</a></li><li><a href="#ec2-instance-meta-data" class="table-of-contents__link toc-highlight">EC2 Instance Meta-Data</a></li><li><a href="#auto-scaling-101" class="table-of-contents__link toc-highlight">Auto Scaling 101</a></li><li><a href="#ec2-placement-groups" class="table-of-contents__link toc-highlight">EC2 Placement groups</a></li><li><a href="#efselastic-file-system" class="table-of-contents__link toc-highlight">EFS(Elastic File System)</a></li><li><a href="#placement-groups" class="table-of-contents__link toc-highlight">Placement Groups</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Hybrid Test Framework</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/projects/mobiletestframework">Mobile Test Framework</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/projects/cypress">Cypress Test Framework</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/users/6189229/dipjyoti-metia" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/UXNmcyGuj2" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/dipjyoti_metia" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/dipjyotimetia" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Dipjyoti Metia</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8c1ffa4b.js"></script>
<script src="/assets/js/main.26a4ea51.js"></script>
</body>
</html>