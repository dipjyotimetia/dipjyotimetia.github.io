<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hola, welcome to my Tech Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hola, welcome to my Tech Blog Atom Feed"><title data-react-helmet="true">S3 Storage and CDN | Hola, welcome to my Tech Blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://dipjyotimetia.github.io/docs/snippets/cloud/aws/aws5"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="S3 Storage and CDN | Hola, welcome to my Tech Blog"><meta data-react-helmet="true" name="description" content="S3 101"><meta data-react-helmet="true" property="og:description" content="S3 101"><link data-react-helmet="true" rel="icon" href="/img/pic.jpeg"><link data-react-helmet="true" rel="canonical" href="https://dipjyotimetia.github.io/docs/snippets/cloud/aws/aws5"><link data-react-helmet="true" rel="alternate" href="https://dipjyotimetia.github.io/docs/snippets/cloud/aws/aws5" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://dipjyotimetia.github.io/docs/snippets/cloud/aws/aws5" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f4719793.css">
<link rel="preload" href="/assets/js/runtime~main.25d8b310.js" as="script">
<link rel="preload" href="/assets/js/main.5c73a9f7.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/pic.jpeg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/pic.jpeg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Dipjyoti`s Blog</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Projects</a><a class="navbar__item navbar__link" href="/docs/snippets/overview">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://www.thoughtworks.com/radar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Technology Radar<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://dev.to/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Dev To<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://news.ycombinator.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Hackers News<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/snippets/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/snippets/generic/apitestsites">Generic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/snippets/programming/go/godoc1">Programming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/docs/snippets/cloud/aws/aws1">Cloud</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" tabindex="0" href="/docs/snippets/cloud/aws/aws1">AWS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws1">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws2">Acronyms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws3">Certifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws4">IAM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/snippets/cloud/aws/aws5">S3 Storage and CDN</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws6">EC2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws7">Databases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws8">Route53</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws9">VPC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws11">Application Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws12">Serverless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws13">AWS Well-Architected Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/snippets/cloud/aws/aws14">Quick Exam Reference Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/docs/snippets/cloud/google/google1">GOOGLE</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/docs/snippets/cloud/ci/docker">CI</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/snippets/security/sec1">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/snippets/performance/taurus">Performance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/snippets/ide/vscode">IDE</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/snippets/toolos/ubuntu">OS &amp; Tools</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/snippets/generic">Reading Lists</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Object Storage &amp; CDN â€“ S3, Glacier and CloudFront</h1></header><h2 class="anchor anchorWithStickyNavbar_31ik" id="s3-101">S3 101<a class="hash-link" href="#s3-101" title="Direct link to heading">â€‹</a></h2><ul><li>S3 is safe place to store files</li><li><strong>Object-based</strong> storage, (<strong>Key</strong> name of the object and <strong>Value</strong> data, <strong>versionId</strong> for versioning, <strong>Metadata</strong> about data storing)</li><li>Files can be 0 Bytes to 5TB, there is unlimited storage.</li><li>S3 is universal namspace eg: https://bucketname/s3-ap-southeast-2.amazonaws.com/folder_name/file.ext</li><li>Read after write cosistance for PUTS of new objects</li><li>Eventual consistancy for overwrite PUTS and DELETES(can take some time to propagate).</li><li>If update an existing file or new file it might take time to update.</li><li>Tiered storage available</li><li>Lifecycle management</li><li>Allow for versioning</li><li>Encryption in rest</li><li>Can enable <strong>MFA</strong> for deletion protection</li><li>Secure data using bucket policy or access control list(ACL)</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="s3-simple-storage-service---object-storage-classes">S3 Simple Storage Service - Object Storage Classes<a class="hash-link" href="#s3-simple-storage-service---object-storage-classes" title="Direct link to heading">â€‹</a></h3><ul><li><p><strong>S3-Standard</strong> - Durability of <strong>99.999999999%</strong> and availability of <strong>99.99%</strong>, and designed to sustain the loss of 2 facilities concurrently.</p></li><li><p><strong>S3 Standard-IA</strong> (Infrequently Accessed) - Durability of <strong>99.999999999%</strong> and availability of 99.9%, for data accessed less frequently but requires rapid access when required, lower fee than s3, only charged at retrieval.</p></li><li><p><strong>S3 One Zone-IA or S3-RRS</strong> (Infrequently Accessed) or (Reduced Redundancy Storage) - Durability and availability of 99.99%. Use when you donâ€™t care if data is occasionally lost and can easily be re-created.</p></li><li><p><strong>S3-Intelligent Tiering</strong> - Designed to optimize costs by automatically moving data most cost effective access tier, without performance impact or operational overhead.</p></li><li><p><strong>S3 Glacier</strong> - For archival only. Takes 3 - 5 hours to restore files. Durability of <strong>99.999999999%</strong>.</p></li><li><p><strong>S3 Glacier Deep Archive</strong> - Amazons S3 lowest cost storage class where retrival time is upto 12 hours.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="s3-buckets">S3 Buckets<a class="hash-link" href="#s3-buckets" title="Direct link to heading">â€‹</a></h3><ul><li><p><strong>S3 Namespace is global/universal</strong> That means your bucket names must be unique. Region independent.</p></li><li><p><strong>A bucket name in any region should only contain lower case characters. It has to be DNS Compliant</strong></p></li><li><p>Object versioning - Different versions of the same object in a bucket.</p></li><li><p>Not suitable to install operating system or DB</p></li><li><p>Successful uploads will return a 200 status code</p></li><li><p>Only <strong>Static website</strong> can be hosted. Auto scaling, Load Balancing etc. all managed automatically.</p></li><li><p>You can <strong>tag buckets (or any AWS resoruce) to track costs</strong>. Tags consist of keys and (optional) value pairs.</p></li><li><p><strong>Lifecycle management of objects can be set</strong>. e.g. move to Glacier after 30 days</p></li><li><p><strong>Every bucket created, object uploaded is private by default</strong>.</p></li><li><p>Object Permissions â€“ Access to Object ACLs</p></li><li><p>Prefix in bucket is a folder in the bucket.</p></li><li><p>Minimum file size that I can store on S3 bucket is 0 byte.</p></li><li><p>Max 100 S3 buckets per account by default.</p></li><li><p>Individual Amazon S3 objects can range in size from a minimum ofÂ <strong>0 bytes</strong>Â to a maximum ofÂ <strong>5 terabytes</strong>. The largest object that can be uploaded in a single PUT is <strong>5 gigabytes</strong>. For objects larger thanÂ <strong>100 megabytes</strong>, customers should consider using the Multipart Upload capability.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="s3-security">S3 Security<a class="hash-link" href="#s3-security" title="Direct link to heading">â€‹</a></h3><ul><li>Bucket policy and access control lists(can lock objects)</li><li>Two different type of encription is available<ul><li>Encryption in transit, SSL/TLS</li><li>Encryption at rest(Server Side) is achieved serverside or client side<ul><li>S3 managed keys, where amazon manage encryption - <strong>SSE-S3</strong></li><li>AWS KMS, Managed keys -<strong>SSE-KMS</strong></li><li>Serverside Encryption with customer provided keys  - <strong>SSE-C</strong></li><li>Client side encryption where customer encrypt keys and upload.</li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="s3-versioning">S3 Versioning<a class="hash-link" href="#s3-versioning" title="Direct link to heading">â€‹</a></h3><ul><li><p><strong>Once versioning is turned on it cannot be removed. It can only be suspended</strong>. To remove versioning, you have to create a new bucket and transfer all files from old to new</p></li><li><p><strong>For newer version of an object, you still have to set permissions to allow access. It is disabled by default even if previous version is public.</strong></p></li><li><p>All versions of the file add up to the storage. Hence for larger objects, ensure that there is some lifecycle versioning in place.</p></li><li><p><strong>Version deleted cannot be restored.</strong></p></li><li><p><strong>Object deleted can be restored</strong> â€“ Delete the Delete marker.</p></li><li><p>Versioning is a good backup tool.</p></li><li><p><strong>For versioning. MFA can be setup for Delete capability for object / bucket â€“ Complicated setup.</strong></p></li><li><p>Newest vesion will be always private, old version permission wont change.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="cross-region-replication">Cross Region Replication<a class="hash-link" href="#cross-region-replication" title="Direct link to heading">â€‹</a></h2><ul><li><p>To allow for cross region replication,automatically replicate once data uploaded to one bucket, <strong>both source and target buckets must have versioning enabled</strong>.</p></li><li><p>When cross region replication is enabled, all existing objects in the bucket are not copied over to replica site. <strong>Only Updates to existing objects and newer objects are replicated over</strong>. All previous versions of the updated objects are replicated.</p></li><li><p>Permissions are also replicated from one bucket to another.</p></li><li><p><strong>Transitive replications do not work</strong>. E.g. if you setup bucket C to replicate content from bucket B which replicates content from bucket A â€“ Changes made to bucket A will not get propagated to C. You will need to manually upload content to bucket B to trigger replication to C.</p></li><li><p><strong>Delete markers</strong> are replicated.</p></li><li><p>A delete marker is a placeholder (marker) for a versioned object that was named in a simple DELETE request. Because the object was in a versioning-enabled bucket, the object was not deleted. The delete marker, however, makes Amazon S3 behave as if it had been deleted.</p></li><li><p><strong>If you delete source replication bucket objects, they are deleted from replica target bucket too. When you delete a Delete marker or version from source, that action is not replicated.</strong></p></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="lifecycle-management">Lifecycle Management<a class="hash-link" href="#lifecycle-management" title="Direct link to heading">â€‹</a></h2><ul><li><p>Allows to automate moving data from different storage.</p></li><li><p>Objects stored in <strong>Glacier incur minimum 90 day storage cost</strong>.</p></li><li><p>Lifecycle management can be used in conjunction with versioning</p></li><li><p><strong>Objects can be transitioned to S3-IA after 30 days</strong> and to Glacier class storage - 30 days IA.</p></li><li><p>You can also permanently delete objects.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="cloudfront-cdn-overview">CloudFront CDN Overview<a class="hash-link" href="#cloudfront-cdn-overview" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="important-terms">Important terms<a class="hash-link" href="#important-terms" title="Direct link to heading">â€‹</a></h3><ul><li><p><strong>CDN content delivery network</strong> â€“ collection of distributed servers where the content is served to users based on the userâ€™s location and the location of content origin.</p></li><li><p><strong>Edge location</strong> â€“ location where content will be cached. Different from AWS Region / AZ</p></li><li><p><strong>Origin</strong> â€“ Can be S3 Bucket, an EC2 Instance, an Elastic Load Balancer or Route53</p></li><li><p><strong>Distribution</strong> â€“ is the name given to CDN collection which consists of Edge locations.</p></li><li><p><strong>Web Distribution</strong> â€“ Typically used for websites &amp; web content only.</p></li><li><p><strong>RTMP Real-Time Messaging Protocol</strong>â€“ Used for Media Streaming. Adobe Flash media serverâ€™s protocol â€“ video streaming.</p></li><li><p>First request is slow as it comes from source origin. Subsequent requests improve speed as they are cached in nearest edge location and routed there until TTL (Time To Live) expires.</p></li><li><p>CloudFront also works with non AWS origin which can be on premise as well. .</p></li><li><p>Edge locations are for read and write as well. Objects PUT on edge location are sent to origin</p></li><li><p>Objects are cached for life of TTL. <strong>TTL can be set for 0 seconds to 365 days. Default TTL is 24 hours</strong>. If objects change more frequently update the TTL</p></li><li><p>You can clear cached objects, with charges.</p></li><li><p>Origin domain name â€“ either S3 bucket, ELB or on premise domain</p></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="cloudfront-security">CloudFront Security.<a class="hash-link" href="#cloudfront-security" title="Direct link to heading">â€‹</a></h3><ul><li><p><strong>You can force them to use CDN URL instead of S3 DNS</strong></p></li><li><p>To restrict bucket access you need to create origin access identity. And allow this user read permission S3 bucket content â€“</p></li><li><p>Set video protocol policy â€“ redirect http to https, http or https</p></li><li><p><strong>Allows various HTTP methods â€“ GET, PUT, POST, PATCH, DELETE, and HEAD.</strong></p></li><li><p><strong>Restrict viewer access for S3 and CDN using pre-Signed URLs or Signed cookies. E.g. You can view video only using that URL</strong></p></li><li><p>Using Web Application Firewalls to prevent SQL injection, CSS attacks</p></li><li><p><strong>For https access, you can either use default CloudFront certificate or own certificate can be imported via ACM.(AWS Certificate Manager )</strong></p></li><li><p><strong>Provisioning / Updating CloudFront distribution takes up to 15-20 minutes.</strong></p></li><li><p><strong>Geo-restriction can be setup. Either whitelist or blacklist â€“ countries from where content can be accessed.</strong></p></li><li><p><strong>Invalidating removes objects from CloudFront. It can be forced to remove from Cache â€“ obviously costs.</strong></p></li><li><p><strong>You can force users to get content via CloudFront after removing read access to S3 bucket.</strong></p></li><li><p>You can also upload content to CloudFront.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="s3-security--encryption">S3 Security &amp; Encryption<a class="hash-link" href="#s3-security--encryption" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="security">Security<a class="hash-link" href="#security" title="Direct link to heading">â€‹</a></h3><ul><li><p>By default all newly created buckets are Private</p></li><li><p>Control Access to buckets using</p><ul><li><p><strong>Bucket Policies â€“ bucket wide.</strong></p></li><li><p><strong>Access Control Lists (ACL) â€“ up to individual objects.</strong></p></li></ul></li><li><p>S3 buckets can log all access requests to another S3 bucket even another AWS account.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="encryption">Encryption<a class="hash-link" href="#encryption" title="Direct link to heading">â€‹</a></h3><ul><li><strong>In Transit</strong></li></ul><p><strong>Secured using SSL/TLS</strong> - For securing data in transit, S3 uses HTTPS by default. This means that SSL/TLS (Secure Sockets Layer/Transport Layer Security) encryption is used both for transferring data and also for sending S3 service management requests issued through the AWS Management Console or S3 APIs.</p><ul><li><strong>Data at rest</strong> two ways:</li></ul><ol><li><p><strong>Server Side</strong></p><ol><li><p>S3 Managed Keys â€“ SSE â€“ S3</p></li><li><p>AWS KMS(Key Management Service) Managed Keys â€“ SSE â€“ KMS â€“ Envelop Key. Provides audit trail
CMK (AWS managed Customer Master Key)</p></li><li><p>SSE using customer provided keys. Key Management is responsibility of user. SSE-C</p></li></ol></li></ol><p>Amazon S3 Server Side Encryption handles all encryption, decryption, and key management in a totally transparent fashion. When you PUT an object and request encryption (in an HTTP header supplied as part of the PUT), we generate a unique key, encrypt your data with the key, and then encrypt the key with a master key</p><ol start="2"><li><strong>Client Side</strong></li></ol><p>Encrypt data at client side and then upload to S3.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="storage-gateway">Storage Gateway<a class="hash-link" href="#storage-gateway" title="Direct link to heading">â€‹</a></h2><ul><li><p>It is a service which <strong>connects an on-premises software appliance (virtual) with cloud based storage</strong> to provide seamless and secure connectivity between the two. Either via internet or Direct connect.</p></li><li><p>Your gateway uploads data from the upload buffer over an encrypted Secure Sockets Layer (SSL) connection to the AWS Storage Gateway service running in the AWS Cloud. The service then stores the data encrypted in Amazon S3. You can take incremental backups, called snapshots, of your storage volumes.</p></li><li><p>It can also provide connectivity from EC2 instance in VPC to S3 via Storage Gateway in same VPC</p></li><li><p><strong>The virtual appliance will asynchronously replicate information up to S3 or Glacier</strong></p></li><li><p><strong>Can be downloaded as a VM â€“ VMware ESXi / Hyper-V.</strong></p></li><li><p>4 Types of Storage Gateways. / 5 types ( S3 / EFS / EBS / Glacier / Snowball)</p><p>1.<strong>File Gateway (NFS)</strong> â€“ Just store files in S3 â€“ Word, Pictures, PDFs, and no OS. ( Saves a lot of money)
-Files are stored as objects in S3 buckets and accessed over NFS (Network File System) mount point
-File attributes as stored as S3 object metadata.
-Once transferred to S3, standard S3 features apply to all files.</p><p>2.<strong>Volumes Gateway (iSCSI)</strong> â€“ (EYE-skuz-ee - Internet Small Computer Systems Interface) uses block based storage â€“ virtual hard disk, operating system.</p></li><li><p>Stored Volumes â€“ Store entire data set copy on-prem. Data async backed up to AWS S3.</p></li><li><p>Cached Volumes â€“ Stored only recently accessed data on-prem. Rest on AWS S3</p><p> Volume gateway interface presents applications with disk volumes using iSCSI protocol. They take virtual hard disks on premise and back them up to virtual hard disks on AWS. Data written to these volumes can be asynchronously backed up as point in time snapshots of volumes and stored in cloud as EBS snapshots.</p><p>3.<strong>Gateway Virtual Tape Library (VTL)</strong> â€“ Backup and Archiving solution. Create tapes and send to S3. You can use existing backup applications like NetBackup, Backup Exec, and Veam etc.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="snowball">Snowball<a class="hash-link" href="#snowball" title="Direct link to heading">â€‹</a></h2><p><strong>Next version of Import / Export Gateway</strong></p><p>Can move upto petabyte-scale data., it can be 50tb t 80tb, comes with 256-bit encryption.
You could accelerate moving large amounts of data into and out of AWS using portable storage devices for transport. Ship the storage device â€“ no need to transfer over the internet.  Problem arose with different types of disks</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="snowball-standard">Snowball Standard<a class="hash-link" href="#snowball-standard" title="Direct link to heading">â€‹</a></h3><ul><li>Bigger than briefcase sized storage devices</li><li><strong>Petabyte scale data transport</strong> solution used to transfer data in/out of AWS</li><li><strong>Cost is 1/5th as compared to transfer via high speed internet.</strong></li><li><strong>80TB snowball available.</strong></li><li>Multiple layers of security to protect data. Tamper resistant enclosure, 256-bit encryption</li><li>Once data is transferred, AWS performs software erasure of Snowball appliance.</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="snowball-edge">Snowball Edge<a class="hash-link" href="#snowball-edge" title="Direct link to heading">â€‹</a></h3><ul><li><strong>100 TB data transfer device which has onboard storage and compute capabilities.</strong></li><li>Move large amounts of data in and out of AWS, as a temporary storage tier for large local datasets.</li><li><strong>You can run Lambda functions.</strong></li><li>Devices connect to existing applications and infrastructure using standard storage interfaces.</li><li>Snowball Edges can be clustered together to process your data on premise</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="snowmobile">Snowmobile<a class="hash-link" href="#snowmobile" title="Direct link to heading">â€‹</a></h3><ul><li>Massive 45 foot long ruggedized shipping container, pulled by a truck.</li><li><strong>Petabyte or Exabyte of data that has to be transferred to AWS. 100 PB per snowmobile.</strong></li><li>You can use it for data center migration.</li></ul><p><strong>Using snowball â€“ Import / Export S3. If using Glacier first need to import into S3 and then into Snowball.</strong></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="s3-transfer-acceleration">S3 Transfer Acceleration<a class="hash-link" href="#s3-transfer-acceleration" title="Direct link to heading">â€‹</a></h2><p>It utilizes the CloudFront Edge Network to accelerate uploads to S3. Instead of uploading directly to S3, you can <strong>use a distinct URL to upload directly to an edge location which will then transfer to S3 using Amazonâ€™s backbone network.</strong></p><p>The farther you are from S3 bucket region the higher is the improvement you can observe using S3 Transfer Acceleration. High cost for usage than standard S3 transfer rates.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="s3-faq">S3 FAQ<a class="hash-link" href="#s3-faq" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://aws.amazon.com/s3/faqs/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/s3/faqs/</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/dipjyotimetia/Docs/docs/snippets/cloud/aws/03_S3 Object Storage &amp; CDN , Glacier and CloudFront.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/snippets/cloud/aws/aws4"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">IAM</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/snippets/cloud/aws/aws6"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">EC2</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#s3-101" class="table-of-contents__link toc-highlight">S3 101</a><ul><li><a href="#s3-simple-storage-service---object-storage-classes" class="table-of-contents__link toc-highlight">S3 Simple Storage Service - Object Storage Classes</a></li><li><a href="#s3-buckets" class="table-of-contents__link toc-highlight">S3 Buckets</a></li><li><a href="#s3-security" class="table-of-contents__link toc-highlight">S3 Security</a></li><li><a href="#s3-versioning" class="table-of-contents__link toc-highlight">S3 Versioning</a></li></ul></li><li><a href="#cross-region-replication" class="table-of-contents__link toc-highlight">Cross Region Replication</a></li><li><a href="#lifecycle-management" class="table-of-contents__link toc-highlight">Lifecycle Management</a></li><li><a href="#cloudfront-cdn-overview" class="table-of-contents__link toc-highlight">CloudFront CDN Overview</a><ul><li><a href="#important-terms" class="table-of-contents__link toc-highlight">Important terms</a></li><li><a href="#cloudfront-security" class="table-of-contents__link toc-highlight">CloudFront Security.</a></li></ul></li><li><a href="#s3-security--encryption" class="table-of-contents__link toc-highlight">S3 Security &amp; Encryption</a><ul><li><a href="#security" class="table-of-contents__link toc-highlight">Security</a></li><li><a href="#encryption" class="table-of-contents__link toc-highlight">Encryption</a></li></ul></li><li><a href="#storage-gateway" class="table-of-contents__link toc-highlight">Storage Gateway</a></li><li><a href="#snowball" class="table-of-contents__link toc-highlight">Snowball</a><ul><li><a href="#snowball-standard" class="table-of-contents__link toc-highlight">Snowball Standard</a></li><li><a href="#snowball-edge" class="table-of-contents__link toc-highlight">Snowball Edge</a></li><li><a href="#snowmobile" class="table-of-contents__link toc-highlight">Snowmobile</a></li></ul></li><li><a href="#s3-transfer-acceleration" class="table-of-contents__link toc-highlight">S3 Transfer Acceleration</a></li><li><a href="#s3-faq" class="table-of-contents__link toc-highlight">S3 FAQ</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Hybrid Test Framework</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/projects/mobiletestframework">Mobile Test Framework</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/projects/cypress">Cypress Test Framework</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/users/6189229/dipjyoti-metia" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/UXNmcyGuj2" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/dipjyoti_metia" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/dipjyotimetia" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Dipjyoti Metia</div></div></div></footer></div>
<script src="/assets/js/runtime~main.25d8b310.js"></script>
<script src="/assets/js/main.5c73a9f7.js"></script>
</body>
</html>