"use strict";(self.webpackChunktech_blog=self.webpackChunktech_blog||[]).push([[1959],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=p(n),d=o,f=m["".concat(l,".").concat(d)]||m[d]||c[d]||r;return n?a.createElement(f,s(s({ref:t},u),{},{components:n})):a.createElement(f,s({ref:t},u))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var p=2;p<r;p++)s[p]=n[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8624:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return c}});var a=n(3117),o=n(102),r=(n(7294),n(3905)),s=["components"],i={id:"aws8",title:"Route53",sidebar_label:"Route53"},l="Route 53",p={unversionedId:"snippets/cloud/aws/aws8",id:"snippets/cloud/aws/aws8",title:"Route53",description:"Overview",source:"@site/docs/snippets/cloud/aws/06_Route 53.md",sourceDirName:"snippets/cloud/aws",slug:"/snippets/cloud/aws/aws8",permalink:"/docs/snippets/cloud/aws/aws8",draft:!1,editUrl:"https://github.com/dipjyotimetia/Docs/docs/snippets/cloud/aws/06_Route 53.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{id:"aws8",title:"Route53",sidebar_label:"Route53"},sidebar:"Docs",previous:{title:"Databases",permalink:"/docs/snippets/cloud/aws/aws7"},next:{title:"VPC",permalink:"/docs/snippets/cloud/aws/aws9"}},u={},c=[{value:"DNS 101",id:"dns-101",level:2},{value:"Types of DNS Records -",id:"types-of-dns-records--",level:3},{value:"Hosted Zone",id:"hosted-zone",level:3},{value:"Route53 Routing Policies",id:"route53-routing-policies",level:2},{value:"DNS Exam Tips",id:"dns-exam-tips",level:2}],m={toc:c};function d(e){var t=e.components,n=(0,o.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"route-53"},"Route 53"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://alwinmathewabraham.wordpress.com/2017/08/20/lab-10-configuring-dns-with-route-53-url/"},"Overview")),(0,r.kt)("h2",{id:"dns-101"},"DNS 101"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Amazon Route 53 is a highly available and scalable Domain Name System (DNS) web service.")),(0,r.kt)("p",null,"DNS = Convert Human Friendly domain names into IP addresses."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"IP4 (32 bit), IP6 (128 bits)")," - created to address exhaustion of IP addresses in IP4 space"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"VPCs are now IP6 compatible.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Top level domains vs second level domains")," - In the Domain Name System (DNS) hierarchy, a second-level domain (SLD or 2LD) is a domain that is directly below a top-level domain (TLD). For example, in example.com, example is the second-level domain of the .com TLD."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Domain Registrars")," - assign domain names under one or more top level domain names."),(0,r.kt)("h3",{id:"types-of-dns-records--"},"Types of DNS Records -"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"SOA Record\xa0(Start Of Authority)")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"NS Record (Name Server) - AWS is now a Domain Registrar as well.\xa0")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"A Record (Host address) - fundamental\xa0")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"CNAME - Canonical - resolve one domain name to another. Can\u2019t use CNAME for Naked domains.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"ALIAS record (Auto resolved alias) - only on AWS - are used to map resource record sets in your hosted zone to ELBs, Cloud Front Distribution, or S3 buckets that are configured as websites. E.g. you can have DNS names which point to ELB domain names -w/o the need for changing IP when ELB Ip changes. \xa0Route 53 automatically recognizes changes in the record sets. Most common usage- map naked domain name (zone apex) to ELB names.\xa0Always use Alias v/s CNAME as Alias has no charges. Answering CNAME queries has a cost on Route53")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"AAAA Record \u2013 Ipv6"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A (Host address)"),(0,r.kt)("li",{parentName:"ul"},"AAAA (IPv6 host address)"),(0,r.kt)("li",{parentName:"ul"},"ALIAS (Auto resolved alias)"),(0,r.kt)("li",{parentName:"ul"},"CNAME (Canonical name for an alias)"),(0,r.kt)("li",{parentName:"ul"},"MX (Mail eXchange)"),(0,r.kt)("li",{parentName:"ul"},"NS (Name Server)"),(0,r.kt)("li",{parentName:"ul"},"PTR (Pointer)"),(0,r.kt)("li",{parentName:"ul"},"SOA (Start Of Authority)"),(0,r.kt)("li",{parentName:"ul"},"SRV (location of service)"),(0,r.kt)("li",{parentName:"ul"},"TXT (Descriptive text)")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"TTL - Cache the DNS record for TTL seconds. Before\xa0DNS migration, shorten the TTLs - so no more responses are cached.\xa0")),(0,r.kt)("h3",{id:"hosted-zone"},"Hosted Zone"),(0,r.kt)("p",null,"Collection of resource record sets. NS, SOA, CNAME, Alias etc. types of records for a particular domain."),(0,r.kt)("p",null,"e.g. ",(0,r.kt)("a",{parentName:"p",href:"https://www.tcpiputils.com/dns-lookup/google.com/ALL"},"https://www.tcpiputils.com/dns-lookup/google.com/ALL")),(0,r.kt)("h2",{id:"route53-routing-policies"},"Route53 Routing Policies"),(0,r.kt)("p",null,"Most of the questions are scenario based."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Simple - Default")," - when a single resource performs function for your domain - only one webserver serves content")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Weighted")," \u2013 send x% of traffic to site A and remainder (100 \u2013 x) % of it to site B. Need not be two different regions. Can be even two different ELBs.  This split is over length of day not based on number of individual subsequent requests."))),(0,r.kt)("p",null,"Weights \u2013 a number between 0 and 255. Route53 calculates auto %age"),(0,r.kt)("p",null,"AWS Takes Global view of DNS \u2013 not local / ISP view."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"A/B testing is perfect use case for Weighted Routing policy")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Latency")," \u2013 allows you to route traffic based on lowest network latency for your end user. To the region which gives fastest response time")),(0,r.kt)("p",null,"Create record set for EC2 or ELB resource in each region that hosts website. When R53 receives a query it will then determine response based on lowest latency"),(0,r.kt)("p",null,"How will the users get the best experience?  \u2013 evaluated dynamically by R3."),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Failover")," \u2013 When you want to create an active / passive setup. DR site. R53 monitors health of site. If active fails then R53 routes traffic to passive site.   Here you designate a primary and secondary endpoint for your hosted zone record.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Geo-location")," \u2013 Choose where to route traffic based on geographic location of users."))),(0,r.kt)("p",null,"Different from Latency based as the routing is hardwired irrespective of latency."),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Geoproximity routing policy")," \u2013 Use when you want to route traffic based on the location of your resources and, optionally, shift traffic from resources in one location to resources in another. ... ")),(0,r.kt)("h2",{id:"dns-exam-tips"},"DNS Exam Tips"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"ELBs cost money \u2013 ensure to delete them when not using."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"ELBs always have DNS name \u2013 no public IP Addresses.")," Trick question might induce you into believing IP4 address for ELB")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Remember difference between Alias and CNAME")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Given a choice between Alias Record vs CNAME \u2013 always choose Alias. Alias records are free and can connect to AWS resources."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"R53 supports zone apex records")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"With Route 53, there is a default limit of 50 domain names. However, this limit can be increased by contacting AWS support."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Naked domain \u2013 which doesn\u2019t have the www in front of the domain e.g. acloud.guru. ",(0,r.kt)("a",{parentName:"strong",href:"http://www.acloud.guru"},"www.acloud.guru")," isn\u2019t")))),(0,r.kt)("hr",null))}d.isMDXComponent=!0}}]);