"use strict";(self.webpackChunktech_blog=self.webpackChunktech_blog||[]).push([[2209],{4298:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var i=s(5893),r=s(1151);const t={id:"aws5",title:"S3 Storage and CDN",sidebar_label:"S3 Storage and CDN"},l="Object Storage & CDN \u2013 S3, Glacier and CloudFront",o={id:"snippets/cloud/aws/aws5",title:"S3 Storage and CDN",description:"S3 101",source:"@site/docs/snippets/cloud/aws/03_S3 Object Storage & CDN , Glacier and CloudFront.mdx",sourceDirName:"snippets/cloud/aws",slug:"/snippets/cloud/aws/aws5",permalink:"/docs/snippets/cloud/aws/aws5",draft:!1,unlisted:!1,editUrl:"https://github.com/dipjyotimetia/Docs/docs/snippets/cloud/aws/03_S3 Object Storage & CDN , Glacier and CloudFront.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"aws5",title:"S3 Storage and CDN",sidebar_label:"S3 Storage and CDN"},sidebar:"Docs",previous:{title:"IAM",permalink:"/docs/snippets/cloud/aws/aws4"},next:{title:"EC2",permalink:"/docs/snippets/cloud/aws/aws6"}},a={},c=[{value:"S3 101",id:"s3-101",level:2},{value:"S3 Simple Storage Service - Object Storage Classes",id:"s3-simple-storage-service---object-storage-classes",level:3},{value:"S3 Buckets",id:"s3-buckets",level:3},{value:"S3 Security",id:"s3-security",level:3},{value:"S3 Versioning",id:"s3-versioning",level:3},{value:"Cross Region Replication",id:"cross-region-replication",level:2},{value:"Lifecycle Management",id:"lifecycle-management",level:2},{value:"CloudFront CDN Overview",id:"cloudfront-cdn-overview",level:2},{value:"Important terms",id:"important-terms",level:3},{value:"CloudFront Security.",id:"cloudfront-security",level:3},{value:"S3 Security &amp; Encryption",id:"s3-security--encryption",level:2},{value:"Security",id:"security",level:3},{value:"Encryption",id:"encryption",level:3},{value:"Storage Gateway",id:"storage-gateway",level:2},{value:"Snowball",id:"snowball",level:2},{value:"Snowball Standard",id:"snowball-standard",level:3},{value:"Snowball Edge",id:"snowball-edge",level:3},{value:"Snowmobile",id:"snowmobile",level:3},{value:"S3 Transfer Acceleration",id:"s3-transfer-acceleration",level:2},{value:"S3 FAQ",id:"s3-faq",level:2}];function d(e){const n={a:"a",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"object-storage--cdn--s3-glacier-and-cloudfront",children:"Object Storage & CDN \u2013 S3, Glacier and CloudFront"}),"\n",(0,i.jsx)(n.h2,{id:"s3-101",children:"S3 101"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"S3 is safe place to store files"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Object-based"})," storage, (",(0,i.jsx)(n.strong,{children:"Key"})," name of the object and ",(0,i.jsx)(n.strong,{children:"Value"})," data, ",(0,i.jsx)(n.strong,{children:"versionId"})," for versioning, ",(0,i.jsx)(n.strong,{children:"Metadata"})," about data storing)"]}),"\n",(0,i.jsx)(n.li,{children:"Files can be 0 Bytes to 5TB, there is unlimited storage."}),"\n",(0,i.jsxs)(n.li,{children:["S3 is universal namspace eg: ",(0,i.jsx)(n.a,{href:"https://bucketname/s3-ap-southeast-2.amazonaws.com/folder_name/file.ext",children:"https://bucketname/s3-ap-southeast-2.amazonaws.com/folder_name/file.ext"})]}),"\n",(0,i.jsx)(n.li,{children:"Read after write cosistance for PUTS of new objects"}),"\n",(0,i.jsx)(n.li,{children:"Eventual consistancy for overwrite PUTS and DELETES(can take some time to propagate)."}),"\n",(0,i.jsx)(n.li,{children:"If update an existing file or new file it might take time to update."}),"\n",(0,i.jsx)(n.li,{children:"Tiered storage available"}),"\n",(0,i.jsx)(n.li,{children:"Lifecycle management"}),"\n",(0,i.jsx)(n.li,{children:"Allow for versioning"}),"\n",(0,i.jsx)(n.li,{children:"Encryption in rest"}),"\n",(0,i.jsxs)(n.li,{children:["Can enable ",(0,i.jsx)(n.strong,{children:"MFA"})," for deletion protection"]}),"\n",(0,i.jsx)(n.li,{children:"Secure data using bucket policy or access control list(ACL)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"s3-simple-storage-service---object-storage-classes",children:"S3 Simple Storage Service - Object Storage Classes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"S3-Standard"})," - Durability of ",(0,i.jsx)(n.strong,{children:"99.999999999%"})," and availability of ",(0,i.jsx)(n.strong,{children:"99.99%"}),", and designed to sustain the loss of 2 facilities concurrently."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"S3 Standard-IA"})," (Infrequently Accessed) - Durability of ",(0,i.jsx)(n.strong,{children:"99.999999999%"})," and availability of 99.9%, for data accessed less frequently but requires rapid access when required, lower fee than s3, only charged at retrieval."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"S3 One Zone-IA or S3-RRS"})," (Infrequently Accessed) or (Reduced Redundancy Storage) - Durability and availability of 99.99%. Use when you don\u2019t care if data is occasionally lost and can easily be re-created."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"S3-Intelligent Tiering"})," - Designed to optimize costs by automatically moving data most cost effective access tier, without performance impact or operational overhead."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"S3 Glacier"})," - For archival only. Takes 3 - 5 hours to restore files. Durability of ",(0,i.jsx)(n.strong,{children:"99.999999999%"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"S3 Glacier Deep Archive"})," - Amazons S3 lowest cost storage class where retrival time is upto 12 hours."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"s3-buckets",children:"S3 Buckets"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"S3 Namespace is global/universal"})," That means your bucket names must be unique. Region independent."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"A bucket name in any region should only contain lower case characters. It has to be DNS Compliant"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Object versioning - Different versions of the same object in a bucket."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Not suitable to install operating system or DB"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Successful uploads will return a 200 status code"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Only ",(0,i.jsx)(n.strong,{children:"Static website"})," can be hosted. Auto scaling, Load Balancing etc. all managed automatically."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["You can ",(0,i.jsx)(n.strong,{children:"tag buckets (or any AWS resoruce) to track costs"}),". Tags consist of keys and (optional) value pairs."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Lifecycle management of objects can be set"}),". e.g. move to Glacier after 30 days"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Every bucket created, object uploaded is private by default"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Object Permissions \u2013 Access to Object ACLs"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Prefix in bucket is a folder in the bucket."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Minimum file size that I can store on S3 bucket is 0 byte."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Max 100 S3 buckets per account by default."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Individual Amazon S3 objects can range in size from a minimum of\xa0",(0,i.jsx)(n.strong,{children:"0 bytes"}),"\xa0to a maximum of\xa0",(0,i.jsx)(n.strong,{children:"5 terabytes"}),". The largest object that can be uploaded in a single PUT is ",(0,i.jsx)(n.strong,{children:"5 gigabytes"}),". For objects larger than\xa0",(0,i.jsx)(n.strong,{children:"100 megabytes"}),", customers should consider using the Multipart Upload capability."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"s3-security",children:"S3 Security"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Bucket policy and access control lists(can lock objects)"}),"\n",(0,i.jsxs)(n.li,{children:["Two different type of encription is available","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Encryption in transit, SSL/TLS"}),"\n",(0,i.jsxs)(n.li,{children:["Encryption at rest(Server Side) is achieved serverside or client side","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["S3 managed keys, where amazon manage encryption - ",(0,i.jsx)(n.strong,{children:"SSE-S3"})]}),"\n",(0,i.jsxs)(n.li,{children:["AWS KMS, Managed keys -",(0,i.jsx)(n.strong,{children:"SSE-KMS"})]}),"\n",(0,i.jsxs)(n.li,{children:["Serverside Encryption with customer provided keys  - ",(0,i.jsx)(n.strong,{children:"SSE-C"})]}),"\n",(0,i.jsx)(n.li,{children:"Client side encryption where customer encrypt keys and upload."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"s3-versioning",children:"S3 Versioning"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Once versioning is turned on it cannot be removed. It can only be suspended"}),". To remove versioning, you have to create a new bucket and transfer all files from old to new"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"For newer version of an object, you still have to set permissions to allow access. It is disabled by default even if previous version is public."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"All versions of the file add up to the storage. Hence for larger objects, ensure that there is some lifecycle versioning in place."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Version deleted cannot be restored."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Object deleted can be restored"})," \u2013 Delete the Delete marker."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Versioning is a good backup tool."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"For versioning. MFA can be setup for Delete capability for object / bucket \u2013 Complicated setup."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Newest vesion will be always private, old version permission wont change."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"cross-region-replication",children:"Cross Region Replication"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["To allow for cross region replication,automatically replicate once data uploaded to one bucket, ",(0,i.jsx)(n.strong,{children:"both source and target buckets must have versioning enabled"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["When cross region replication is enabled, all existing objects in the bucket are not copied over to replica site. ",(0,i.jsx)(n.strong,{children:"Only Updates to existing objects and newer objects are replicated over"}),". All previous versions of the updated objects are replicated."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Permissions are also replicated from one bucket to another."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Transitive replications do not work"}),". E.g. if you setup bucket C to replicate content from bucket B which replicates content from bucket A \u2013 Changes made to bucket A will not get propagated to C. You will need to manually upload content to bucket B to trigger replication to C."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Delete markers"})," are replicated."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"A delete marker is a placeholder (marker) for a versioned object that was named in a simple DELETE request. Because the object was in a versioning-enabled bucket, the object was not deleted. The delete marker, however, makes Amazon S3 behave as if it had been deleted."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"If you delete source replication bucket objects, they are deleted from replica target bucket too. When you delete a Delete marker or version from source, that action is not replicated."})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"lifecycle-management",children:"Lifecycle Management"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Allows to automate moving data from different storage."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Objects stored in ",(0,i.jsx)(n.strong,{children:"Glacier incur minimum 90 day storage cost"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Lifecycle management can be used in conjunction with versioning"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Objects can be transitioned to S3-IA after 30 days"})," and to Glacier class storage - 30 days IA."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"You can also permanently delete objects."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"cloudfront-cdn-overview",children:"CloudFront CDN Overview"}),"\n",(0,i.jsx)(n.h3,{id:"important-terms",children:"Important terms"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"CDN content delivery network"})," \u2013 collection of distributed servers where the content is served to users based on the user\u2019s location and the location of content origin."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Edge location"})," \u2013 location where content will be cached. Different from AWS Region / AZ"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Origin"})," \u2013 Can be S3 Bucket, an EC2 Instance, an Elastic Load Balancer or Route53"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Distribution"})," \u2013 is the name given to CDN collection which consists of Edge locations."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Web Distribution"})," \u2013 Typically used for websites & web content only."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"RTMP Real-Time Messaging Protocol"}),"\u2013 Used for Media Streaming. Adobe Flash media server\u2019s protocol \u2013 video streaming."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"First request is slow as it comes from source origin. Subsequent requests improve speed as they are cached in nearest edge location and routed there until TTL (Time To Live) expires."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"CloudFront also works with non AWS origin which can be on premise as well. ."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Edge locations are for read and write as well. Objects PUT on edge location are sent to origin"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Objects are cached for life of TTL. ",(0,i.jsx)(n.strong,{children:"TTL can be set for 0 seconds to 365 days. Default TTL is 24 hours"}),". If objects change more frequently update the TTL"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"You can clear cached objects, with charges."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Origin domain name \u2013 either S3 bucket, ELB or on premise domain"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"cloudfront-security",children:"CloudFront Security."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"You can force them to use CDN URL instead of S3 DNS"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"To restrict bucket access you need to create origin access identity. And allow this user read permission S3 bucket content \u2013"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Set video protocol policy \u2013 redirect http to https, http or https"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Allows various HTTP methods \u2013 GET, PUT, POST, PATCH, DELETE, and HEAD."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Restrict viewer access for S3 and CDN using pre-Signed URLs or Signed cookies. E.g. You can view video only using that URL"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Using Web Application Firewalls to prevent SQL injection, CSS attacks"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"For https access, you can either use default CloudFront certificate or own certificate can be imported via ACM.(AWS Certificate Manager )"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Provisioning / Updating CloudFront distribution takes up to 15-20 minutes."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Geo-restriction can be setup. Either whitelist or blacklist \u2013 countries from where content can be accessed."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Invalidating removes objects from CloudFront. It can be forced to remove from Cache \u2013 obviously costs."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"You can force users to get content via CloudFront after removing read access to S3 bucket."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"You can also upload content to CloudFront."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"s3-security--encryption",children:"S3 Security & Encryption"}),"\n",(0,i.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"By default all newly created buckets are Private"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Control Access to buckets using"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Bucket Policies \u2013 bucket wide."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Access Control Lists (ACL) \u2013 up to individual objects."})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"S3 buckets can log all access requests to another S3 bucket even another AWS account."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"encryption",children:"Encryption"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"In Transit"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Secured using SSL/TLS"})," - For securing data in transit, S3 uses HTTPS by default. This means that SSL/TLS (Secure Sockets Layer/Transport Layer Security) encryption is used both for transferring data and also for sending S3 service management requests issued through the AWS Management Console or S3 APIs."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Data at rest"})," two ways:"]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Server Side"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"S3 Managed Keys \u2013 SSE \u2013 S3"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"AWS KMS(Key Management Service) Managed Keys \u2013 SSE \u2013 KMS \u2013 Envelop Key. Provides audit trail\nCMK (AWS managed Customer Master Key)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"SSE using customer provided keys. Key Management is responsibility of user. SSE-C"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Amazon S3 Server Side Encryption handles all encryption, decryption, and key management in a totally transparent fashion. When you PUT an object and request encryption (in an HTTP header supplied as part of the PUT), we generate a unique key, encrypt your data with the key, and then encrypt the key with a master key"}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Client Side"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Encrypt data at client side and then upload to S3."}),"\n",(0,i.jsx)(n.h2,{id:"storage-gateway",children:"Storage Gateway"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["It is a service which ",(0,i.jsx)(n.strong,{children:"connects an on-premises software appliance (virtual) with cloud based storage"})," to provide seamless and secure connectivity between the two. Either via internet or Direct connect."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Your gateway uploads data from the upload buffer over an encrypted Secure Sockets Layer (SSL) connection to the AWS Storage Gateway service running in the AWS Cloud. The service then stores the data encrypted in Amazon S3. You can take incremental backups, called snapshots, of your storage volumes."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"It can also provide connectivity from EC2 instance in VPC to S3 via Storage Gateway in same VPC"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The virtual appliance will asynchronously replicate information up to S3 or Glacier"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Can be downloaded as a VM \u2013 VMware ESXi / Hyper-V."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"4 Types of Storage Gateways. / 5 types ( S3 / EFS / EBS / Glacier / Snowball)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["1.",(0,i.jsx)(n.strong,{children:"File Gateway (NFS)"})," \u2013 Just store files in S3 \u2013 Word, Pictures, PDFs, and no OS. ( Saves a lot of money)\n-Files are stored as objects in S3 buckets and accessed over NFS (Network File System) mount point\n-File attributes as stored as S3 object metadata.\n-Once transferred to S3, standard S3 features apply to all files."]}),"\n",(0,i.jsxs)(n.p,{children:["2.",(0,i.jsx)(n.strong,{children:"Volumes Gateway (iSCSI)"})," \u2013 (EYE-skuz-ee - Internet Small Computer Systems Interface) uses block based storage \u2013 virtual hard disk, operating system."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stored Volumes \u2013 Store entire data set copy on-prem. Data async backed up to AWS S3."}),"\n",(0,i.jsx)(n.li,{children:"Cached Volumes \u2013 Stored only recently accessed data on-prem. Rest on AWS S3"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Volume gateway interface presents applications with disk volumes using iSCSI protocol. They take virtual hard disks on premise and back them up to virtual hard disks on AWS. Data written to these volumes can be asynchronously backed up as point in time snapshots of volumes and stored in cloud as EBS snapshots."}),"\n",(0,i.jsxs)(n.p,{children:["3.",(0,i.jsx)(n.strong,{children:"Gateway Virtual Tape Library (VTL)"})," \u2013 Backup and Archiving solution. Create tapes and send to S3. You can use existing backup applications like NetBackup, Backup Exec, and Veam etc."]}),"\n",(0,i.jsx)(n.h2,{id:"snowball",children:"Snowball"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Next version of Import / Export Gateway"})}),"\n",(0,i.jsx)(n.p,{children:"Can move upto petabyte-scale data., it can be 50tb t 80tb, comes with 256-bit encryption.\nYou could accelerate moving large amounts of data into and out of AWS using portable storage devices for transport. Ship the storage device \u2013 no need to transfer over the internet.  Problem arose with different types of disks"}),"\n",(0,i.jsx)(n.h3,{id:"snowball-standard",children:"Snowball Standard"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Bigger than briefcase sized storage devices"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Petabyte scale data transport"})," solution used to transfer data in/out of AWS"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Cost is 1/5th as compared to transfer via high speed internet."})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"80TB snowball available."})}),"\n",(0,i.jsx)(n.li,{children:"Multiple layers of security to protect data. Tamper resistant enclosure, 256-bit encryption"}),"\n",(0,i.jsx)(n.li,{children:"Once data is transferred, AWS performs software erasure of Snowball appliance."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"snowball-edge",children:"Snowball Edge"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"100 TB data transfer device which has onboard storage and compute capabilities."})}),"\n",(0,i.jsx)(n.li,{children:"Move large amounts of data in and out of AWS, as a temporary storage tier for large local datasets."}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"You can run Lambda functions."})}),"\n",(0,i.jsx)(n.li,{children:"Devices connect to existing applications and infrastructure using standard storage interfaces."}),"\n",(0,i.jsx)(n.li,{children:"Snowball Edges can be clustered together to process your data on premise"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"snowmobile",children:"Snowmobile"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Massive 45 foot long ruggedized shipping container, pulled by a truck."}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Petabyte or Exabyte of data that has to be transferred to AWS. 100 PB per snowmobile."})}),"\n",(0,i.jsx)(n.li,{children:"You can use it for data center migration."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Using snowball \u2013 Import / Export S3. If using Glacier first need to import into S3 and then into Snowball."})}),"\n",(0,i.jsx)(n.h2,{id:"s3-transfer-acceleration",children:"S3 Transfer Acceleration"}),"\n",(0,i.jsxs)(n.p,{children:["It utilizes the CloudFront Edge Network to accelerate uploads to S3. Instead of uploading directly to S3, you can ",(0,i.jsx)(n.strong,{children:"use a distinct URL to upload directly to an edge location which will then transfer to S3 using Amazon\u2019s backbone network."})]}),"\n",(0,i.jsx)(n.p,{children:"The farther you are from S3 bucket region the higher is the improvement you can observe using S3 Transfer Acceleration. High cost for usage than standard S3 transfer rates."}),"\n",(0,i.jsx)(n.h2,{id:"s3-faq",children:"S3 FAQ"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://aws.amazon.com/s3/faqs/",children:"https://aws.amazon.com/s3/faqs/"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>o,a:()=>l});var i=s(7294);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);