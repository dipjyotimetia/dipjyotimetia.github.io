<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">One post tagged with &quot;java&quot; | Hola, welcome to my Tech Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dipjyotimetia.github.io/blog/tags/java"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="One post tagged with &quot;java&quot; | Hola, welcome to my Tech Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/pic.jpeg"><link data-rh="true" rel="canonical" href="https://dipjyotimetia.github.io/blog/tags/java"><link data-rh="true" rel="alternate" href="https://dipjyotimetia.github.io/blog/tags/java" hreflang="en"><link data-rh="true" rel="alternate" href="https://dipjyotimetia.github.io/blog/tags/java" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hola, welcome to my Tech Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hola, welcome to my Tech Blog Atom Feed"><link rel="stylesheet" href="/assets/css/styles.e3166032.css">
<script src="/assets/js/runtime~main.6c269def.js" defer="defer"></script>
<script src="/assets/js/main.cfc323d4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/pic.jpeg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/pic.jpeg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Dipjyoti`s Blog</b></a><a class="navbar__item navbar__link" href="/docs/">Projects</a><a class="navbar__item navbar__link" href="/docs/snippets/overview">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://www.thoughtworks.com/radar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Technology Radar<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://dev.to/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dev To<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://news.ycombinator.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Hackers News<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/function">function</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/kafka">Kafka</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/github">Github Eyes</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/serverless">Serverless Framework</a></li></ul></nav></aside><main class="col col--7"><header class="margin-bottom--xl"><h1>One post tagged with &quot;java&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/kafka">Kafka</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-04-17T00:00:00.000Z">April 17, 2021</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/dipjyotimetia" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars3.githubusercontent.com/u/18288720?s=400&amp;u=168a31a123ff5c1c44afc29a579f91d13813da54&amp;v=4" alt="Dipjyoti Metia"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/dipjyotimetia" target="_blank" rel="noopener noreferrer"><span>Dipjyoti Metia</span></a></div><small class="avatar__subtitle">Lead Software Engineer</small></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-apache-kafka">What is Apache Kafka?<a href="#what-is-apache-kafka" class="hash-link" aria-label="Direct link to What is Apache Kafka?" title="Direct link to What is Apache Kafka?">​</a></h2>
<p>Apache Kafka is a framework implementation of a software bus using stream-processing. It is an open-source software platform developed by the Apache Software Foundation written in Scala and Java.
The project aims to provide a unified, high-throughput, low-latency platform for handling real-time data feeds.
Behind the scenes, Kafka is distributed, scales well, replicates data across brokers (servers), can survive broker downtime, and much more.
<img decoding="async" loading="lazy" alt="img.png" src="/assets/images/kafka_desc-3b6593e69e25d2573d66a320f172c586.png" width="2555" height="1488" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="topics-partitions-and-offsets">Topics, Partitions and Offsets<a href="#topics-partitions-and-offsets" class="hash-link" aria-label="Direct link to Topics, Partitions and Offsets" title="Direct link to Topics, Partitions and Offsets">​</a></h2>
<p><strong>Topics: A particular stream of data</strong></p>
<ul>
<li>Similar to a table of the database</li>
<li>You can have as many topics you can</li>
<li>A topic is identified by its name</li>
</ul>
<p><strong>Topics are split in partitions</strong></p>
<ul>
<li>Each partition is ordered</li>
<li>Each message in partition will get an incremental ID called offset</li>
<li>Partition 0, 1, 2 ....</li>
<li>Order only guaranteed within a partition, not across partitions</li>
<li>Data is kept only for a limited time.</li>
<li>Once the data is written to a partition it cannot be changed.</li>
</ul>
<p>Example Scenario :
You can have multiple cabs, and each cabs reports its GPS location to kafka. You can have a topic cabs_gps that contains
the position of all cabs. Each cab will send a message to kafka every 20 sec, each message will contain the cabID, and
the cab location(lat/long)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="brokers--topics">Brokers &amp; Topics<a href="#brokers--topics" class="hash-link" aria-label="Direct link to Brokers &amp; Topics" title="Direct link to Brokers &amp; Topics">​</a></h2>
<ul>
<li>A kafka cluster is composed of multiple brokers(servers)</li>
<li>Each broker is identified by its ID(integer)</li>
<li>Each broker contains certain topic partitions</li>
<li>After connecting to any broker(called a bootstrap broker), you will be connected to the entire cluster</li>
<li>A good number to get start is 3 brokers, but some big clusters have more than 100 brokers</li>
</ul>
<p>Example of topic A with 3 partitions
Example of topic B with 2 partitions
<img decoding="async" loading="lazy" alt="img.png" src="/assets/images/broker-47961d19ebc7401c22aa9c9d8aa34c5d.png" width="506" height="182" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="topics-replication">Topics replication<a href="#topics-replication" class="hash-link" aria-label="Direct link to Topics replication" title="Direct link to Topics replication">​</a></h2>
<ul>
<li>
<p>Topics should have a replication factor &gt;1 (Usually between 2 and 3)</p>
</li>
<li>
<p>This way if one broker is down another broker can serve the data. Example of topic A with replication factor 2
<img decoding="async" loading="lazy" alt="img.png" src="/assets/images/replication-76b7d2b205633bcf8985a7e2518cb1f8.png" width="838" height="242" class="img_ev3q"></p>
</li>
<li>
<p>At any time only ONE broker can be a leader for a given partition</p>
</li>
<li>
<p>Only that leader can receive and serve data for a partition.</p>
</li>
<li>
<p>The other broker will synchronize the data.</p>
</li>
<li>
<p>So each partition has one leader and multiple ISR (in-sync-replica)
<img decoding="async" loading="lazy" alt="img.png" src="/assets/images/replica_leader-7ed14bc8b49afbb8054fb13fad88549b.png" width="833" height="241" class="img_ev3q"></p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="producer">Producer<a href="#producer" class="hash-link" aria-label="Direct link to Producer" title="Direct link to Producer">​</a></h2>
<ul>
<li>Producer write data to topics(which is made of partitions)</li>
<li>Producer automatically know to which broker and partition to write.</li>
<li>In case broker failure, Producers will automatically recover
<img decoding="async" loading="lazy" alt="img.png" src="/assets/images/producer-f693135d019231adfc99806be3b675a7.png" width="866" height="351" class="img_ev3q"></li>
<li>Producers can choose to receive acknowledgment of data writes.<!-- -->
<ul>
<li>acks=0 Producer won&#x27;t wait for acknowledgment (Possible data loss)</li>
<li>acks=1 Producer will wait for leader acknowledgment (Limited data loss)</li>
<li>acks=2 Leader &amp; Replica acknowledgment (no data loss)</li>
</ul>
</li>
<li>Producer can choose to send a key with the message(string,num etc.)</li>
<li>If key==null data will sent round robin(broker 101 then 102 then 103)</li>
<li>If key is sent then all message for that key will send to same partition</li>
<li>A key is sent if we need a message ordering for a specific field as cabID.</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">producer.java</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@Slf4j</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    String topic = &quot;second-topic&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    String value = &quot;hello kafka&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    String bootstrapServer = &quot;127.0.0.1:9092&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // Create producer properties</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Properties properties = new Properties();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServer);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // Create the producer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(topic, value);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    log.info(&quot;Creating producer&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // Send Data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    producer.send(record, (metadata, e) -&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // Execute every time record is successfully send</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (e == null) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            log.info((metadata.timestamp()));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            log.info(topic, metadata.topic());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            log.info(metadata.hasOffset());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            log.info(metadata.hasTimestamp());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            e.printStackTrace();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    producer.flush();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    producer.close();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="consumer">Consumer<a href="#consumer" class="hash-link" aria-label="Direct link to Consumer" title="Direct link to Consumer">​</a></h2>
<ul>
<li>Consumer read data from a topic(identified by name)</li>
<li>Consumer knows which broker to read from</li>
<li>In case of broker failure, consumer know how to recover</li>
<li>Data is read in order with in each partition
<img decoding="async" loading="lazy" alt="img.png" src="data:image/png;base64,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" width="900" height="115" class="img_ev3q"></li>
<li>Consumer read data in consumer groups</li>
<li>Each consumer within a group reads form exclusive partitions</li>
<li>If you have more consumers than partitions, some consumers will be inactive</li>
<li>Kafka stores the offset at which a consumer group has been reading</li>
<li>The offsets committed live in a kafka topic named _consumer_offsets</li>
<li>When a consumer in a group has processed the data received from kafka, it should be committing the offsets.</li>
<li>If a consumer dies, it will be able to read back from where it left off.</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">consumer.java</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    String bootstrapServer = &quot;127.0.0.1:9092&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    String groupId = &quot;my-sixth-application&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    String topic = &quot;second-topic&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // Create consumer config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Properties properties = new Properties();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    properties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServer);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    properties.setProperty(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    properties.setProperty(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    properties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, groupId);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    properties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // Create consumer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // subscribe consumer to our topic</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    consumer.subscribe(Arrays.asList(topic));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // poll for the new data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    while (true) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ConsumerRecords&lt;String, String&gt; records =</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                consumer.poll(Duration.ofMillis(100));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        for (ConsumerRecord&lt;String, String&gt; record : records) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            log.info(&quot;Key: &quot; + record.key() + &quot;, Value: &quot; + record.value());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            log.info(&quot;Partition: &quot; + record.partition() + &quot;, Offset: &quot; + record.offset());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="zookeeper">Zookeeper<a href="#zookeeper" class="hash-link" aria-label="Direct link to Zookeeper" title="Direct link to Zookeeper">​</a></h2>
<ul>
<li>Zookeeper manager brokers(keeps a list of them)</li>
<li>Zookeeper helps in performing leader election for partition</li>
<li>Zookeeper send notifications to kafka in case of any changes.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="schema-registry">Schema Registry<a href="#schema-registry" class="hash-link" aria-label="Direct link to Schema Registry" title="Direct link to Schema Registry">​</a></h2>
<ul>
<li>Kafka takes bytes as an input and publishes them</li>
<li>No data verification</li>
<li>Schema registry rejects bat data</li>
<li>A common data format must be agreed upon
<img decoding="async" loading="lazy" alt="img.png" src="/assets/images/schema_registry-5d2bc22ab467d1c63dd41f0a70529c51.png" width="757" height="162" class="img_ev3q"></li>
<li>Apache avro as data format<!-- -->
<ul>
<li>Data is fully typed</li>
<li>Date is compressed automatically</li>
<li>Schema comes along with the data</li>
<li>Documentation is embedded in the schema</li>
<li>Data can be read across any language</li>
<li>Schema can be evolved over time in safe manner</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="avro">Avro<a href="#avro" class="hash-link" aria-label="Direct link to Avro" title="Direct link to Avro">​</a></h2>
<p>Apache Avro is a data serialization system.</p>
<ul>
<li>Avro provides:<!-- -->
<ul>
<li>Rich data structures.</li>
<li>A compact, fast, binary data format.</li>
<li>A container file, to store persistent data.</li>
<li>Remote procedure call (RPC).</li>
<li>Simple integration with dynamic languages. Code generation is not required to read or write data files nor to use or implement RPC protocols. Code generation as an optional optimization, only worth implementing for statically typed languages.</li>
</ul>
</li>
</ul>
<div class="language-avroschema codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-avroschema codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;namespace&quot;: &quot;dip.avro&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;type&quot;: &quot;record&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;User&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;fields&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot;},</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {&quot;name&quot;: &quot;favorite_number&quot;,  &quot;type&quot;: [&quot;int&quot;, &quot;null&quot;]},</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {&quot;name&quot;: &quot;favorite_color&quot;, &quot;type&quot;: [&quot;string&quot;, &quot;null&quot;]}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Common Fields:<!-- -->
<ul>
<li>Name: Name of the schema</li>
<li>Namespace: (equivalent of package in java)</li>
<li>Doc: Documentation to explain your schema</li>
<li>Aliases: Optional other name for schema</li>
<li>Fields<!-- -->
<ul>
<li>Name: Name of field</li>
<li>Doc: Documentation for that field</li>
<li>Type: Data type for that field</li>
<li>Default: Default value for that field</li>
</ul>
</li>
<li>Complex types:<!-- -->
<ul>
<li>
<p>Enums</p>
<div class="language-avroschema codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-avroschema codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;type&quot;: &quot;enum&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;Customer Status&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;symbols&quot;: [&quot;BRONZE&quot;,&quot;SILVER&quot;,&quot;GOLD&quot;]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Arrays</p>
<div class="language-avroschema codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-avroschema codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;type&quot;: &quot;array&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;items&quot;: &quot;string&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Maps</p>
<div class="language-avroschema codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-avroschema codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;type&quot;: &quot;map&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;values&quot;: &quot;string&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Unions</p>
<div class="language-avroschema codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-avroschema codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;middle_name&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;type&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;null&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;string&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;default&quot;: &quot;null&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Calling other schema as type</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-rest-proxy">Kafka Rest Proxy<a href="#kafka-rest-proxy" class="hash-link" aria-label="Direct link to Kafka Rest Proxy" title="Direct link to Kafka Rest Proxy">​</a></h2>
<ul>
<li>kafka is great for java based consumers/producers</li>
<li>Avro support for some languages isn&#x27;t great, where JSON/HTTP requests are great.</li>
<li>Reporting data to Kafka from any frontend app built in any language not supported by official Confluent clients</li>
<li>Ingesting messages into a stream processing framework that doesn’t yet support Kafka
<img decoding="async" loading="lazy" alt="img.png" src="/assets/images/restproxy-d23d9256c22457822c2645e2f3eb0bbb.png" width="757" height="257" class="img_ev3q"></li>
<li>Perform a comprehensive set of administrative operations through REST APIs, including:<!-- -->
<ul>
<li>Describe, list, and configure brokers</li>
<li>Create, delete, describe, list, and configure topics</li>
<li>Delete, describe, and list consumer groups</li>
<li>Create, delete, describe, and list ACLs</li>
<li>List partition reassignments</li>
</ul>
</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/kafka">kafka</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/tech">tech</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/java">java</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">Hybrid Test Framework</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/projects/mobiletestframework">Mobile Test Framework</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/projects/cypress">Cypress Test Framework</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/users/6189229/dipjyoti-metia" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/UXNmcyGuj2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/dipjyoti_metia" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/dipjyotimetia" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Dipjyoti Metia</div></div></div></footer></div>
</body>
</html>